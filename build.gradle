apply plugin: 'clojure'

version = '2.0.2'
group = 'clojurecheck'

repositories {
    clojureReleasesRepo()
    clojarsRepo()
}

dependencies {
    compile 'org.clojure:clojure:1.2.+'

    development 'vimclojure:server:2.2.0-SNAPSHOT'
}

uploadArchives {
    clojarsDeploy()
}

task runNailgun(type: JavaExec, dependsOn: classes) {
    classpath = project.files(
        project.sourceSets.main.clojure.sourceDir,
        project.sourceSets.main.classesDir,
        project.configurations.compile,
        project.configurations.development
    )
    main = 'vimclojure.nailgun.NGServer'
    args = ['127.0.0.1']
}
